<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Search</title>
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css" />
    <style>
      .image {
        width: 100%;
        height: 300px;
      }
      .image > img {
        width: 100%;
        height: 100%;
        object-fit: contain;
      }
    </style>
  </head>
  <body>
    <!-- menu bar - start -->
    <div class="d-flex bg-light flex-column sticky-top">
      <div class="d-flex justify-content-between w-100 mt-3">
        <div class="navbar navbar-expand-sm d-flex align-items-center">
          <div
            class="navbar-toggler mx-2 p-2 fs-5"
            data-bs-toggle="collapse"
            data-bs-target="#menu"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="25"
              height="25"
              fill="currentColor"
              class="bi bi-list"
              viewBox="0 0 16 16"
            >
              <path
                fill-rule="evenodd"
                d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"
              />
            </svg>
          </div>
          <a href="/" class="text-decoration-none text-black">
            <div class="p-2 fs-5 text-nowrap ps-sm-4">MobiMart</div>
          </a>
        </div>
        <form action="/collection/search.html" method="GET">
          <div class="input-group d-none d-sm-flex p-2 px-3 align-items-center">
            <input type="text" class="form-control w-50 fs-5" name="model" />
            <select
              name="filter"
              id=""
              class="form-select d-none d-md-block w-25 fs-5"
            >
              <option value="all">All</option>
              <option value="Apple">Apple</option>
              <option value="Xiaomi">Xiaomi</option>
              <option value="Samsung">Samsung</option>
              <option value="OnePlus">One Plus</option>
            </select>
            <input
              type="submit"
              class="btn btn-warning fs-5 w-25"
              value="Search"
            />
          </div>
        </form>

        <div class="d-flex align-items-center navbar navbar-expand">
          <div class="p-2 fs-5 navbar-brand">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              fill="currentColor"
              class="bi bi-bag"
              viewBox="0 0 16 16"
            >
              <path
                d="M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1m3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4zM2 5h12v9a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1z"
              />
            </svg>
          </div>
          <div class="p-2 fs-5 navbar-brand">
            <a
              href="/user/sign-up.html"
              class="text-decoration-none text-black"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                fill="currentColor"
                class="bi bi-box-arrow-in-right"
                viewBox="0 0 16 16"
              >
                <path
                  fill-rule="evenodd"
                  d="M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0z"
                />
                <path
                  fill-rule="evenodd"
                  d="M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z"
                />
              </svg>
            </a>
          </div>
        </div>
      </div>
      <div class="d-flex justify-content-center d-sm-none">
        <form action="/collection/search.html" class="input-group w-100 px-2">
          <input type="text" class="form-control" name="model" />
          <input type="text" value="all" name="filter" hidden />
          <input type="submit" value="Search" class="btn btn-warning fs-5" />
        </form>
      </div>
      <div class="navbar navbar-expand-sm">
        <div class="collapse navbar-collapse ps-4" id="menu">
          <ul class="navbar-nav flex-wrap column-gap-3">
            <li class="nav-item p-2 fs-5 dropdown">
              <a
                href="/collection/item.html?name=Xiaomi"
                class="text-decoration-none text-black"
              >
                <div>Xiaomi</div>
              </a>
              <!-- <div class="dropdown-menu fs-5 dropdown">
                <div class="dropdown-item">Latest</div>
                <div class="dropdown-item">Flagship</div>
                <div class="dropdown-item">Mid-Range</div>
                <div class="dropdown-item">Budget</div>
                <div class="dropdown-item">Note Series</div>
                <div class="dropdown-item">Price to performance</div>
              </div> -->
            </li>
            <li class="nav-item p-2 fs-5 dropdown">
              <a
                href="/collection/item.html?name=Apple"
                class="text-decoration-none text-black"
              >
                <div>Apple</div>
              </a>
              <!-- <div class="dropdown-menu fs-5">
                <div class="dropdown-item">Latest</div>
                <div class="dropdown-item">Pink</div>
                <div class="dropdown-item">Green</div>
                <div class="dropdown-item">Black</div>
              </div> -->
            </li>
            <li class="nav-item p-2 fs-5 dropdown">
              <a
                href="/collection/item.html?name=Samsung"
                class="text-decoration-none text-black"
              >
                <div>Samsung</div>
              </a>
              <!-- <div class="dropdown-menu fs-5">
                <div class="dropdown-item">Latest</div>
                <div class="dropdown-item">Flagship</div>
                <div class="dropdown-item">Mid-Range</div>
                <div class="dropdown-item">Budget</div>
              </div> -->
            </li>
            <li class="nav-item p-2 fs-5 dropdown">
              <a
                href="/collection/item.html?name=OnePlus"
                class="text-decoration-none text-black"
              >
                <div>One Plus</div>
              </a>
              <!-- <div class="dropdown-menu fs-5">
                <div class="dropdown-item">Latest</div>
                <div class="dropdown-item">Flagship</div>
                <div class="dropdown-item">Mid-Range</div>
                <div class="dropdown-item">Budget</div>
              </div> -->
            </li>
          </ul>
        </div>
      </div>
    </div>
    <!-- menu bar - end -->
    <!-- items - start -->
    <div class="container-fluid">
      <div class="row" id="item">
        <div class="col-12 p-2">
          <div class="card py-5">
            <div class="card-body">
              <h2 class="text-center">
                <div class="spinner-border"></div>
              </h2>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- items - end -->
    <!-- footer - start -->
    <div class="list-group fw-bold p-2" id="parent">
      <div class="list-group-item">
        <div class="d-flex justify-content-between align-items-center">
          <div class="text-uppercase">About The Mart</div>
          <i data-bs-target="#about" data-bs-toggle="collapse">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="30"
              height="30"
              fill="currentColor"
              class="bi bi-plus"
              viewBox="0 0 16 16"
            >
              <path
                d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"
              />
            </svg>
          </i>
        </div>
        <div class="collapse" id="about" data-bs-parent="#parent">
          <div style="text-align: justify">
            Welcome to MobiMart,your one-stop online destination for the latest
            and greatest in smartphones. At MobiMart, we specialize exclusively
            in smartphones bringing you a handpicked selection of the most
            trusted brands like Apple, Samsung, Xiaomi, and One Plus. Whether
            you're looking for flagship power, budget performance, or something
            in between, we have the perfect phone to match your lifestyle.
          </div>
        </div>
      </div>
      <div class="list-group-item">
        <div class="d-flex justify-content-between align-items-center">
          <div class="text-uppercase">Useful links</div>
          <i data-bs-target="#link" data-bs-toggle="collapse">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="30"
              height="30"
              fill="currentColor"
              class="bi bi-plus"
              viewBox="0 0 16 16"
            >
              <path
                d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"
              />
            </svg>
          </i>
        </div>
        <div class="collapse" id="link" data-bs-parent="#parent">
          <div class="navbar">
            <div class="navbar-nav">
              <div class="nav-item">
                <a href="/collection.html" class="nav-link">Collection</a>
              </div>
              <div class="nav-item">
                <a href="/promotion.html" class="nav-link">Promotion</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div>
      <div class="navbar navbar-expand fs-5 pb-4 ps-2 justify-content-center">
        <div class="navbar-nav">
          <div class="nav-item">
            <a href="" class="nav-link">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="25"
                height="25"
                fill="currentColor"
                class="bi bi-facebook"
                viewBox="0 0 16 16"
              >
                <path
                  d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951"
                />
              </svg>
            </a>
          </div>
          <div class="nav-item">
            <a href="" class="nav-link">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="25"
                height="25"
                fill="currentColor"
                class="bi bi-telephone-fill"
                viewBox="0 0 16 16"
              >
                <path
                  fill-rule="evenodd"
                  d="M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877z"
                />
              </svg>
            </a>
          </div>
          <div class="nav-item">
            <a href="" class="nav-link">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="25"
                height="25"
                fill="currentColor"
                class="bi bi-telegram"
                viewBox="0 0 16 16"
              >
                <path
                  d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.287 5.906q-1.168.486-4.666 2.01-.567.225-.595.442c-.03.243.275.339.69.47l.175.055c.408.133.958.288 1.243.294q.39.01.868-.32 3.269-2.206 3.374-2.23c.05-.012.12-.026.166.016s.042.12.037.141c-.03.129-1.227 1.241-1.846 1.817-.193.18-.33.307-.358.336a8 8 0 0 1-.188.186c-.38.366-.664.64.015 1.088.327.216.589.393.85.571.284.194.568.387.936.629q.14.092.27.187c.331.236.63.448.997.414.214-.02.435-.22.547-.82.265-1.417.786-4.486.906-5.751a1.4 1.4 0 0 0-.013-.315.34.34 0 0 0-.114-.217.53.53 0 0 0-.31-.093c-.3.005-.763.166-2.984 1.09"
                />
              </svg>
            </a>
          </div>
        </div>
      </div>
    </div>
    <!-- footer - end -->
    <script src="/assets/js/bootstrap.bundle.js"></script>
    <script src="/assets/js/jquery.js"></script>
    <script>
      $(document).ready(function () {
        const searchQuery = new URLSearchParams(window.location.search);
        if (searchQuery.size > 0) {
          if (searchQuery.get("filter") == "all") {
            $("#item").html("");
            $.get("/collection/item.json", function (items) {
              items.map((item) => {
                $.get(`/collection/item/${item.name}.json`, function (devices) {
                  devices.map((device) => {
                    if (
                      device.model
                        .toLowerCase()
                        .includes(searchQuery.get("model").toLowerCase())
                    ) {
                      $("#item").append(`
                      <div class="p-2 col-12 col-sm-6 col-md-4 col-lg-3">
                          <div class="card">
                          <div class="card-body">
                            <div class="card-title ">
                              <div class="fs-5 fw-bold bg-light rounded p-2 text-center text-truncate ">
                                ${device.model}
                              </div>
                              <div class="text-center my-4 image">
                                <img
                                  src="${device.image.main}"
                                  alt=""
                                />
                              </div>
                              <div class="row pe-3">
                                <a
                                  href="/collection/details.html?name=${item.name}&model-id=${device.id}"
                                  class="text-decoration-none text-black col-8"
                                >
                                  <div class="bg-warning fs-5 text-center rounded p-2 fw-bold">
                                    Details
                                  </div>
                                </a>
                                <div class="col-4 bg-dark text-center rounded text-white d-flex justify-content-center align-items-center">
                                  <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-cart3" viewBox="0 0 16 16">
                                    <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M3.102 4l.84 4.479 9.144-.459L13.89 4zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/>
                                  </svg>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                  `);
                    }
                  });
                });
              });
            });
          } else {
            $("#item").html("");
            $.get(
              `/collection/item/${searchQuery.get("filter")}.json`,
              function (devices) {
                devices.map((device) => {
                  if (
                    device.model
                      .toLowerCase()
                      .includes(searchQuery.get("model").toLowerCase())
                  ) {
                    $("#item").append(`
                    
                    <div class="p-2 col-12 col-sm-6 col-md-4 col-lg-3">
                          <div class="card">
                          <div class="card-body">
                            <div class="card-title ">
                              <div class="fs-5 fw-bold bg-light rounded p-2 text-center text-truncate ">
                                ${device.model}
                              </div>
                              <div class="text-center my-4 image">
                                <img
                                  src="${device.image.main}"
                                  alt=""
                                />
                              </div>
                              <div class="row pe-3">
                                <a
                                  href="/collection/details.html?name=${searchQuery.get(
                                    "filter"
                                  )}&model-id=${device.id}"
                                  class="text-decoration-none text-black col-8"
                                >
                                  <div class="bg-warning fs-5 text-center rounded p-2 fw-bold">
                                    Details
                                  </div>
                                </a>
                                <div class="col-4 bg-dark text-center rounded text-white d-flex justify-content-center align-items-center">
                                  <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-cart3" viewBox="0 0 16 16">
                                    <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M3.102 4l.84 4.479 9.144-.459L13.89 4zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/>
                                  </svg>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>`);
                  }
                });
              }
            );
          }
        }
      });
    </script>
  </body>
</html>
